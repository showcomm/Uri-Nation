<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Uri-Nation Board Builder</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #1a1a2e;
    color: #e0e0e0;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }

  /* Left panel — palette */
  #palette {
    width: 180px;
    min-width: 180px;
    background: #16213e;
    padding: 12px;
    overflow-y: auto;
    border-right: 1px solid #333;
  }
  #palette h3 {
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #8888aa;
    margin-bottom: 10px;
  }
  .stamp-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 6px 8px;
    margin-bottom: 4px;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 4px;
    color: #ccc;
    font-size: 11px;
    font-family: monospace;
    cursor: pointer;
    text-align: left;
  }
  .stamp-btn:hover { background: #1a2a50; }
  .stamp-btn.active {
    border-color: #0080ff;
    background: #1a2a50;
    color: #fff;
  }
  .stamp-colour {
    display: inline-block;
    width: 16px;
    height: 16px;
    border-radius: 3px;
    flex-shrink: 0;
  }

  /* Centre — canvas area */
  #centre {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* Toolbar */
  #toolbar {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 12px;
    background: #0f3460;
    border-bottom: 1px solid #333;
    flex-wrap: wrap;
  }
  #toolbar label { font-size: 12px; color: #aaa; }
  #toolbar input[type="number"] {
    width: 50px;
    padding: 3px 5px;
    background: #1a1a2e;
    border: 1px solid #555;
    border-radius: 3px;
    color: #fff;
    font-size: 12px;
  }
  .action-btn {
    padding: 5px 14px;
    background: #0f3460;
    border: 1px solid #4488cc;
    border-radius: 4px;
    color: #bbd;
    font-size: 12px;
    cursor: pointer;
  }
  .action-btn:hover { background: #1a4a80; color: #fff; }

  /* Canvas wrapper */
  #canvas-wrap {
    flex: 1;
    overflow: auto;
    padding: 12px;
  }
  #board-canvas {
    display: block;
    background: #222240;
    cursor: crosshair;
  }

  /* Right panel — metadata */
  #metadata-wrap {
    width: 240px;
    min-width: 240px;
    background: #16213e;
    padding: 12px;
    overflow-y: auto;
    border-left: 1px solid #333;
    display: flex;
    flex-direction: column;
  }
  #metadata { flex: 1; }
  #metadata h3 {
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #8888aa;
    margin-bottom: 10px;
  }
  #metadata label {
    display: block;
    font-size: 11px;
    color: #aaa;
    margin-bottom: 8px;
  }
  #metadata input, #metadata select {
    display: block;
    width: 100%;
    margin-top: 3px;
    padding: 4px 6px;
    background: #1a1a2e;
    border: 1px solid #555;
    border-radius: 3px;
    color: #fff;
    font-size: 12px;
  }
  #metadata input:disabled {
    color: #888;
    background: #111;
  }
  #metadata .action-btn {
    margin-top: 10px;
    width: 100%;
  }
  .hint {
    font-size: 12px;
    color: #666;
    font-style: italic;
    margin-top: 20px;
  }

  /* Legend */
  #legend {
    margin-top: 16px;
    padding-top: 12px;
    border-top: 1px solid #333;
  }
  #legend h4 {
    font-size: 11px;
    text-transform: uppercase;
    color: #666;
    margin-bottom: 6px;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    color: #999;
    margin-bottom: 3px;
  }
  .legend-swatch {
    width: 12px;
    height: 12px;
    border-radius: 2px;
    flex-shrink: 0;
  }
</style>
</head>
<body>

<!-- Left: Stamp palette -->
<div id="palette"></div>

<!-- Centre: toolbar + canvas -->
<div id="centre">
  <div id="toolbar">
    <label>Cols <input type="number" id="grid-cols" value="20" min="4" max="60" /></label>
    <label>Rows <input type="number" id="grid-rows" value="12" min="4" max="40" /></label>
    <button class="action-btn" id="btn-resize">Resize</button>
    <span style="flex:1"></span>
    <button class="action-btn" id="btn-save">Save JSON</button>
    <button class="action-btn" id="btn-load">Load JSON</button>
    <button class="action-btn" id="btn-clear" style="border-color:#c44">Clear</button>
  </div>
  <div id="canvas-wrap">
    <canvas id="board-canvas"></canvas>
  </div>
</div>

<!-- Right: Metadata panel -->
<div id="metadata-wrap">
  <div id="metadata">
    <p class="hint">Click an occupied cell to edit its properties.</p>
  </div>
  <div id="legend">
    <h4>Edge colours</h4>
    <div class="legend-item">
      <span class="legend-swatch" style="background:#444"></span> Free (0 drive)
    </div>
    <div class="legend-item">
      <span class="legend-swatch" style="background:#e04040"></span> Costs drive
    </div>
  </div>
</div>

<script src="builder.js"></script>
</body>
</html>
